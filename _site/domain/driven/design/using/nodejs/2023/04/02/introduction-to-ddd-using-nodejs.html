<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Introduction to Domain Driven Design using Nodejs | Amr Reda</title>
<meta name="generator" content="Jekyll v4.3.2" />
<meta property="og:title" content="Introduction to Domain Driven Design using Nodejs" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Domain Driven Design (DDD) is an approach to software development that emphasizes the importance of the business domain. The goal of DDD is to create software that models the business domain explicitly, making it easier to understand and maintain over time." />
<meta property="og:description" content="Domain Driven Design (DDD) is an approach to software development that emphasizes the importance of the business domain. The goal of DDD is to create software that models the business domain explicitly, making it easier to understand and maintain over time." />
<link rel="canonical" href="http://localhost:4000/domain/driven/design/using/nodejs/2023/04/02/introduction-to-ddd-using-nodejs.html" />
<meta property="og:url" content="http://localhost:4000/domain/driven/design/using/nodejs/2023/04/02/introduction-to-ddd-using-nodejs.html" />
<meta property="og:site_name" content="Amr Reda" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2023-04-02T00:14:37+11:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Introduction to Domain Driven Design using Nodejs" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2023-04-02T00:14:37+11:00","datePublished":"2023-04-02T00:14:37+11:00","description":"Domain Driven Design (DDD) is an approach to software development that emphasizes the importance of the business domain. The goal of DDD is to create software that models the business domain explicitly, making it easier to understand and maintain over time.","headline":"Introduction to Domain Driven Design using Nodejs","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/domain/driven/design/using/nodejs/2023/04/02/introduction-to-ddd-using-nodejs.html"},"url":"http://localhost:4000/domain/driven/design/using/nodejs/2023/04/02/introduction-to-ddd-using-nodejs.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Amr Reda" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Amr Reda</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Introduction to Domain Driven Design using Nodejs</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2023-04-02T00:14:37+11:00" itemprop="datePublished">Apr 2, 2023
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>Domain Driven Design (DDD) is an approach to software development that emphasizes the importance of the business domain. The goal of DDD is to create software that models the business domain explicitly, making it easier to understand and maintain over time.</p>

<p>At the heart of DDD is the Domain Model, which is a representation of the business domain in code. The Domain Model consists of entities, value objects, aggregates, and domain services, which are used to model the key concepts and behaviors of the business domain.</p>

<p>DDD also includes other concepts such as the Ubiquitous Language, which is a shared language between business and development teams, and the Application Services Layer, which is responsible for coordinating the behavior of the Domain Model.</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">Cart</span> <span class="p">{</span>
  <span class="k">private</span> <span class="k">readonly</span> <span class="nx">id</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="k">private</span> <span class="k">readonly</span> <span class="nx">items</span><span class="p">:</span> <span class="nx">CartItem</span><span class="p">[];</span>

  <span class="nf">constructor</span><span class="p">(</span><span class="nx">id</span><span class="p">:</span> <span class="kr">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">id</span> <span class="o">=</span> <span class="nx">id</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">items</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="p">}</span>

  <span class="k">public</span> <span class="nf">getId</span><span class="p">():</span> <span class="kr">string</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">public</span> <span class="nf">addItem</span><span class="p">(</span><span class="nx">item</span><span class="p">:</span> <span class="nx">CartItem</span><span class="p">):</span> <span class="k">void</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">existingItem</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">items</span><span class="p">.</span><span class="nf">find</span><span class="p">((</span><span class="nx">i</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">i</span><span class="p">.</span><span class="nf">getProduct</span><span class="p">().</span><span class="nf">getId</span><span class="p">()</span> <span class="o">===</span> <span class="nx">item</span><span class="p">.</span><span class="nf">getProduct</span><span class="p">().</span><span class="nf">getId</span><span class="p">());</span>
    <span class="nf">if </span><span class="p">(</span><span class="nx">existingItem</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">existingItem</span><span class="p">.</span><span class="nf">setQuantity</span><span class="p">(</span><span class="nx">existingItem</span><span class="p">.</span><span class="nf">getQuantity</span><span class="p">()</span> <span class="o">+</span> <span class="nx">item</span><span class="p">.</span><span class="nf">getQuantity</span><span class="p">());</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">items</span><span class="p">.</span><span class="nf">push</span><span class="p">(</span><span class="nx">item</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="k">public</span> <span class="nf">removeItem</span><span class="p">(</span><span class="nx">productId</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="k">void</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">index</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">items</span><span class="p">.</span><span class="nf">findIndex</span><span class="p">((</span><span class="nx">i</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">i</span><span class="p">.</span><span class="nf">getProduct</span><span class="p">().</span><span class="nf">getId</span><span class="p">()</span> <span class="o">===</span> <span class="nx">productId</span><span class="p">);</span>
    <span class="nf">if </span><span class="p">(</span><span class="nx">index</span> <span class="o">!==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">items</span><span class="p">.</span><span class="nf">splice</span><span class="p">(</span><span class="nx">index</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="k">public</span> <span class="nf">getTotal</span><span class="p">():</span> <span class="nx">Money</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">total</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">items</span><span class="p">.</span><span class="nf">reduce</span><span class="p">((</span><span class="nx">acc</span><span class="p">,</span> <span class="nx">item</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">acc</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="nx">item</span><span class="p">.</span><span class="nf">getTotal</span><span class="p">()),</span> <span class="nx">Money</span><span class="p">.</span><span class="nx">ZERO</span><span class="p">);</span>
    <span class="k">return</span> <span class="nx">total</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">CartItem</span> <span class="p">{</span>
  <span class="k">private</span> <span class="k">readonly</span> <span class="nx">product</span><span class="p">:</span> <span class="nx">Product</span><span class="p">;</span>
  <span class="k">private</span> <span class="nx">quantity</span><span class="p">:</span> <span class="nx">Quantity</span><span class="p">;</span>

  <span class="nf">constructor</span><span class="p">(</span><span class="nx">product</span><span class="p">:</span> <span class="nx">Product</span><span class="p">,</span> <span class="nx">quantity</span><span class="p">:</span> <span class="nx">Quantity</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">product</span> <span class="o">=</span> <span class="nx">product</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">quantity</span> <span class="o">=</span> <span class="nx">quantity</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">public</span> <span class="nf">getProduct</span><span class="p">():</span> <span class="nx">Product</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">product</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">public</span> <span class="nf">getQuantity</span><span class="p">():</span> <span class="nx">Quantity</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">quantity</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">public</span> <span class="nf">setQuantity</span><span class="p">(</span><span class="nx">quantity</span><span class="p">:</span> <span class="nx">Quantity</span><span class="p">):</span> <span class="k">void</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">quantity</span> <span class="o">=</span> <span class="nx">quantity</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">public</span> <span class="nf">getTotal</span><span class="p">():</span> <span class="nx">Money</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">product</span><span class="p">.</span><span class="nf">getPrice</span><span class="p">().</span><span class="nf">multiply</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">quantity</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">Product</span> <span class="p">{</span>
  <span class="k">private</span> <span class="k">readonly</span> <span class="nx">id</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="k">private</span> <span class="k">readonly</span> <span class="nx">name</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="k">private</span> <span class="k">readonly</span> <span class="nx">description</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="k">private</span> <span class="k">readonly</span> <span class="nx">price</span><span class="p">:</span> <span class="nx">Money</span><span class="p">;</span>

  <span class="nf">constructor</span><span class="p">(</span><span class="nx">id</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span> <span class="nx">name</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span> <span class="nx">description</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span> <span class="nx">price</span><span class="p">:</span> <span class="nx">Money</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">id</span> <span class="o">=</span> <span class="nx">id</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">description</span> <span class="o">=</span> <span class="nx">description</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">price</span> <span class="o">=</span> <span class="nx">price</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="nf">getId</span><span class="p">():</span> <span class="kr">string</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="nf">getName</span><span class="p">():</span> <span class="kr">string</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="nf">getDescription</span><span class="p">():</span> <span class="kr">string</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">description</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="nf">getPrice</span><span class="p">():</span> <span class="nx">Money</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">price</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">Money</span> <span class="p">{</span>
    <span class="k">private</span> <span class="k">readonly</span> <span class="nx">amount</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
    <span class="k">private</span> <span class="k">readonly</span> <span class="nx">currency</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>

    <span class="k">public</span> <span class="k">static</span> <span class="k">readonly</span> <span class="nx">ZERO</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Money</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="dl">'</span><span class="s1">USD</span><span class="dl">'</span><span class="p">);</span>

    <span class="nf">constructor</span><span class="p">(</span><span class="nx">amount</span><span class="p">:</span> <span class="kr">number</span><span class="p">,</span> <span class="nx">currency</span><span class="p">:</span> <span class="kr">string</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">amount</span> <span class="o">=</span> <span class="nx">amount</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">currency</span> <span class="o">=</span> <span class="nx">currency</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="nf">getAmount</span><span class="p">():</span> <span class="kr">number</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">amount</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="nf">getCurrency</span><span class="p">():</span> <span class="kr">string</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">currency</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="nf">add</span><span class="p">(</span><span class="nx">other</span><span class="p">:</span> <span class="nx">Money</span><span class="p">):</span> <span class="nx">Money</span> <span class="p">{</span>
        <span class="nf">if </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">currency</span> <span class="o">!==</span> <span class="nx">other</span><span class="p">.</span><span class="nx">currency</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nc">Error</span><span class="p">(</span><span class="dl">'</span><span class="s1">Cannot add money with different currencies</span><span class="dl">'</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nc">Money</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">amount</span> <span class="o">+</span> <span class="nx">other</span><span class="p">.</span><span class="nx">amount</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">currency</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="nf">multiply</span><span class="p">(</span><span class="nx">multiplier</span><span class="p">:</span> <span class="nx">Quantity</span><span class="p">):</span> <span class="nx">Money</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nc">Money</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">amount</span> <span class="o">*</span> <span class="nx">multiplier</span><span class="p">.</span><span class="nf">getValue</span><span class="p">(),</span> <span class="k">this</span><span class="p">.</span><span class="nx">currency</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">Quantity</span> <span class="p">{</span>
    <span class="k">private</span> <span class="k">readonly</span> <span class="nx">value</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>

    <span class="nf">constructor</span><span class="p">(</span><span class="nx">value</span><span class="p">:</span> <span class="kr">number</span><span class="p">)</span> <span class="p">{</span>
        <span class="nf">if </span><span class="p">(</span><span class="nx">value</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nc">Error</span><span class="p">(</span><span class="dl">'</span><span class="s1">Quantity must be non-negative</span><span class="dl">'</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="nf">getValue</span><span class="p">():</span> <span class="kr">number</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>In this example, we have defined the entities Cart, CartItem, and Product, as well as the value objects Money and Quantity. We have also implemented some basic behavior for the Cart entity, including adding and removing items, and calculating the total price.</p>

<p>Blog Post 3: The Application Services Layer in Node.js</p>

<p>The Application Services Layer is responsible for coordinating the behavior of the Domain Model. It acts as a bridge between the presentation layer and the Domain Model, and is responsible for executing business logic in response to user input.</p>

<p>To implement the Application Services Layer in Node.js, we can define a set of classes that encapsulate the behavior of the Domain Model. These classes are responsible for handling requests from the presentation layer, executing the necessary business logic, and returning the results.</p>

<p>Here is an example of how we can implement the Application Services Layer for an e-commerce system in Node.js:</p>

<!-- ```typescript -->

<figure class="highlight"><pre><code class="language-typescript" data-lang="typescript"><span class="kd">class</span> <span class="nc">AddItemToCartRequest</span> <span class="p">{</span>
  <span class="k">public</span> <span class="k">readonly</span> <span class="nx">productId</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="k">public</span> <span class="k">readonly</span> <span class="nx">quantity</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>

  <span class="nf">constructor</span><span class="p">(</span><span class="nx">productId</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span> <span class="nx">quantity</span><span class="p">:</span> <span class="kr">number</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">productId</span> <span class="o">=</span> <span class="nx">productId</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">quantity</span> <span class="o">=</span> <span class="nx">quantity</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">AddItemToCartResponse</span> <span class="p">{</span>
  <span class="k">public</span> <span class="k">readonly</span> <span class="nx">cartId</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="k">public</span> <span class="k">readonly</span> <span class="nx">total</span><span class="p">:</span> <span class="nx">Money</span><span class="p">;</span>

  <span class="nf">constructor</span><span class="p">(</span><span class="nx">cartId</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span> <span class="nx">total</span><span class="p">:</span> <span class="nx">Money</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">cartId</span> <span class="o">=</span> <span class="nx">cartId</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">total</span> <span class="o">=</span> <span class="nx">total</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">RemoveItemFromCartRequest</span> <span class="p">{</span>
  <span class="k">public</span> <span class="k">readonly</span> <span class="nx">productId</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>

  <span class="nf">constructor</span><span class="p">(</span><span class="nx">productId</span><span class="p">:</span> <span class="kr">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">productId</span> <span class="o">=</span> <span class="nx">productId</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">RemoveItemFromCartResponse</span> <span class="p">{</span>
  <span class="k">public</span> <span class="k">readonly</span> <span class="nx">cartId</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="k">public</span> <span class="k">readonly</span> <span class="nx">total</span><span class="p">:</span> <span class="nx">Money</span><span class="p">;</span>

  <span class="nf">constructor</span><span class="p">(</span><span class="nx">cartId</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span> <span class="nx">total</span><span class="p">:</span> <span class="nx">Money</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">cartId</span> <span class="o">=</span> <span class="nx">cartId</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">total</span> <span class="o">=</span> <span class="nx">total</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">GetCartRequest</span> <span class="p">{</span>
  <span class="k">public</span> <span class="k">readonly</span> <span class="nx">cartId</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>

  <span class="nf">constructor</span><span class="p">(</span><span class="nx">cartId</span><span class="p">:</span> <span class="kr">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">cartId</span> <span class="o">=</span> <span class="nx">cartId</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">GetCartResponse</span> <span class="p">{</span>
  <span class="k">public</span> <span class="k">readonly</span> <span class="nx">cartId</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="k">public</span> <span class="k">readonly</span> <span class="nx">items</span><span class="p">:</span> <span class="nx">CartItem</span><span class="p">[];</span>
  <span class="k">public</span> <span class="k">readonly</span> <span class="nx">total</span><span class="p">:</span> <span class="nx">Money</span><span class="p">;</span>

  <span class="nf">constructor</span><span class="p">(</span><span class="nx">cartId</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span> <span class="nx">items</span><span class="p">:</span> <span class="nx">CartItem</span><span class="p">[],</span> <span class="nx">total</span><span class="p">:</span> <span class="nx">Money</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">cartId</span> <span class="o">=</span> <span class="nx">cartId</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">items</span> <span class="o">=</span> <span class="nx">items</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">total</span> <span class="o">=</span> <span class="nx">total</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">CartService</span> <span class="p">{</span>
  <span class="k">private</span> <span class="k">readonly</span> <span class="nx">repository</span>
<span class="k">this</span><span class="p">.</span><span class="nx">cartRepository</span><span class="p">.</span><span class="nf">getCartById</span><span class="p">(</span><span class="nx">query</span><span class="p">.</span><span class="nx">cartId</span><span class="p">);</span>
<span class="k">return</span> <span class="k">new</span> <span class="nc">CartDto</span><span class="p">(</span><span class="nx">cart</span><span class="p">.</span><span class="nf">getId</span><span class="p">(),</span> <span class="nx">cart</span><span class="p">.</span><span class="nf">getItems</span><span class="p">(),</span> <span class="nx">cart</span><span class="p">.</span><span class="nf">getTotal</span><span class="p">());</span></code></pre></figure>

<!-- ``` -->

  </div><a class="u-url" href="/domain/driven/design/using/nodejs/2023/04/02/introduction-to-ddd-using-nodejs.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Amr Reda</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Amr Reda</li><li><a class="u-email" href="mailto:amrreda@outlook.com">amrreda@outlook.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/AmrReda"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">AmrReda</span></a></li><li><a href="https://www.twitter.com/amrreda"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">amrreda</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
